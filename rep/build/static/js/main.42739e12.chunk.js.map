{"version":3,"sources":["components/reducers/reposReducer.js","components/action/repos.js","components/main/repo/repo.js","components/main/main.js","components/card/card.js","App.js","reportWebVitals.js","components/reducers/index.js","index.js"],"names":["SET_REPOS","SET_CURRENT_PAGE","defaultState","items","currentPage","totalCount","setRepos","repos","type","payload","setCurrentPage","page","getRepos","searchQuery","dispatch","a","fetch","response","json","result","getCurrentRepo","usename","reponame","setRepo","getContributors","setContributors","Repo","repo","number","to","owner","login","name","stargazers_count","pushed_at","href","clone_url","className","target","rel","Main","useDispatch","useSelector","state","useState","searchValue","setSearchValue","pagesCount","Math","ceil","useEffect","value","onChange","e","placeholder","onClick","map","index","Array","fill","_","Card","props","useParams","contributors","src","avatar_url","alt","html_url","language","description","c","history","goBack","App","exact","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","action","total_count","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.42739e12.chunk.js","sourcesContent":["const SET_REPOS = \"SET_REPOS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\n\r\nconst defaultState = {\r\n  items: [],\r\n  currentPage: 1,\r\n  totalCount: 0\r\n}\r\n\r\nexport default function reposReducer(state = defaultState, action) {\r\n  switch (action.type) {\r\n    case SET_REPOS: \r\n      return {...state, items: action.payload.items, totalCount: action.payload.total_count}\r\n    case SET_CURRENT_PAGE:\r\n      return {...state, currentPage: action.payload}\r\n    default: \r\n      return state\r\n  }\r\n} \r\n\r\nexport const setRepos = (repos) => ({type: SET_REPOS, payload: repos})\r\nexport const setCurrentPage = (page) => ({type: SET_CURRENT_PAGE, payload: page})\r\n","import { setRepos } from \"../reducers/reposReducer\";\r\n\r\nexport const getRepos = (searchQuery = \"stars:%3E1\", currentPage) => {\r\n  if (searchQuery === \"\") {\r\n    searchQuery = \"stars:%3E1\"\r\n  }\r\n  return async (dispatch) => {\r\n    const response = await fetch(\"https://api.github.com/search/repositories?q=\" + searchQuery + \"&sort=stars&per_page=10&page=\" + currentPage);\r\n    const result = await response.json()\r\n    dispatch(setRepos(result))\r\n  }\r\n}\r\n\r\nexport const getCurrentRepo = async (usename, reponame, setRepo) => {\r\n  const response = await fetch(\"https://api.github.com/repos/\" + usename + \"/\" + reponame)\r\n  const result = await response.json()\r\n  setRepo(result)\r\n}\r\n\r\nexport const getContributors = async (usename, reponame, setContributors) => {\r\n  const response = await fetch(\"https://api.github.com/repos/\" + usename + \"/\" + reponame + \"/contributors?per_page=10&page=1\")\r\n  const result = await response.json()\r\n  setContributors(result)\r\n}\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport \"./repo.css\";\r\n\r\nconst Repo = ({repo, number}) => {\r\n  return (\r\n    <tr>\r\n      <td>\r\n        {number}\r\n      </td>\r\n      <td>\r\n        <NavLink to={\"/card/\" + repo.owner.login + \"/\" + repo.name}>{repo.name}</NavLink>\r\n      </td>\r\n      <td>\r\n        {repo.stargazers_count}\r\n      </td>\r\n      <td>\r\n        {repo.pushed_at}\r\n      </td>\r\n      <td>\r\n        <a href={repo.clone_url} className=\"a\" target=\"_blank\" rel=\"noreferrer\">{repo.clone_url}</a>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default Repo;","import React, {useEffect, useState} from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getRepos } from \"../action/repos\";\r\nimport { setCurrentPage } from \"../reducers/reposReducer\";\r\nimport './main.css';\r\nimport Repo from \"./repo/repo\";\r\n\r\nconst Main = () => {\r\n  const dispatch = useDispatch()\r\n  const repos = useSelector((state) => state.repos.items)\r\n  const currentPage = useSelector((state) => state.repos.currentPage)\r\n  const totalCount = useSelector((state) => state.repos.totalCount)\r\n  const [searchValue, setSearchValue] = useState(\"\")\r\n  const pagesCount = totalCount > 100 ? 10 : Math.ceil(totalCount / 10);\r\n\r\n  useEffect(() => {\r\n    dispatch(getRepos(searchValue, currentPage))\r\n  }, [currentPage])\r\n\r\n  function searchHadler() {\r\n    dispatch(setCurrentPage(1))\r\n    dispatch(getRepos(searchValue, currentPage))\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"form\">\r\n        <input value={searchValue} onChange={(e) =>setSearchValue(e.target.value)} className=\"input\" type=\"text\" placeholder=\"Поиск\"></input>\r\n        <button onClick={() => searchHadler()} className=\"button\">Найти</button>\r\n      </div>\r\n      <table className=\"table\">\r\n        <tr>\r\n          <th>N</th>\r\n          <th>Название</th>\r\n          <th>Кол. звезд</th>\r\n          <th>Дата последнего коммита</th>\r\n          <th>Ссылка</th>\r\n        </tr>\r\n        {repos?.map((repo, index) => {\r\n          return <Repo repo={repo} number={index + 1 + (currentPage - 1) * 10}/>\r\n        })}\r\n      </table>\r\n      <div className=\"paginator\">\r\n        {Array(pagesCount).fill(\"\").map((_, index) => {\r\n          const page = index + 1\r\n          return (<span \r\n            key={index}\r\n            className={currentPage === page ? \"activ-page\" : \"page\"}\r\n            onClick={() => dispatch(setCurrentPage(page))}>{page}</span>)})}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Main;","import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { getContributors, getCurrentRepo } from \"../action/repos\";\r\nimport \"./card.css\";\r\n\r\nconst Card = (props) => {\r\n  const {usename, reponame} = useParams()\r\n  const [repo, setRepo] = useState({owner: {}})\r\n  const [contributors, setContributors] = useState([])\r\n\r\n  useEffect(() => {\r\n    getCurrentRepo(usename, reponame, setRepo)\r\n    getContributors(usename, reponame, setContributors)\r\n  }, [])\r\n  if (!repo) {\r\n    return null\r\n  }\r\n  return (\r\n    <div>\r\n      <div className=\"avatar\">\r\n        <img className=\"img\" src={repo.owner?.avatar_url} alt=\"картинка\"/>\r\n      </div>\r\n      <div className=\"name\">Название: {repo.name}</div>\r\n      <div className=\"stars\">Кол. звезд: {repo.stargazers_count}</div>\r\n      <div className=\"date\">Дата последнего коммита: {repo.pushed_at}</div>\r\n      <div className=\"reponames\">Имя: {repo.owner?.login}</div>\r\n      <div className=\"url\">Ссылка: <a href={repo.owner?.html_url} className=\"a\" target=\"_blank\" rel=\"noreferrer\">{repo.owner?.html_url}</a></div>\r\n      <div className=\"language\">Языки: {repo.language}</div>\r\n      <div className=\"des\">Описание репозитория: {repo.description}</div>\r\n      <div className=\"contr\">10 наиболее активных контрибьютеров: </div>\r\n      {contributors.map?.((c, index) => {\r\n        return <div>{index + 1}. {c?.login}</div>\r\n      })}\r\n      <button onClick={() => props.history.goBack()} className=\"close\" type=\"button\">Назад</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport './App.css';\r\nimport { Route, BrowserRouter, Switch, Redirect } from 'react-router-dom';\r\nimport Main from './components/main/main';\r\nimport Card from './components/card/card';\r\n\r\nfunction App() {\r\n  return (\r\n    <BrowserRouter>\r\n      <div className=\"container\">\r\n        <Switch>\r\n          <Route exact path = \"/\" component = {Main}/>\r\n          <Route path = \"/card/:usename/:reponame\" component = {Card}/>\r\n          <Redirect to = \"/\"/>\r\n        </Switch>\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { combineReducers } from \"redux\";\r\nimport { createStore, applyMiddleware } from \"redux\";\r\nimport reposReducer from \"./reposReducer\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nconst rootReducer = combineReducers ({\r\n  repos: reposReducer,\r\n})\r\n\r\nexport const store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)));\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport { store } from './components/reducers';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}